2025-01-23T19:25:46.917Z [info]: Server started on port 3000
2025-01-23T19:25:46.920Z [info]: Cancelled all cron jobs
2025-01-23T19:25:46.950Z [info]: Database connected successfully
2025-01-23T19:25:46.988Z [info]: Scheduled job for folder: riddles-videos
2025-01-23T19:25:46.988Z [info]: Initialized 1 cron jobs
2025-01-23T19:25:46.988Z [info]: Cron jobs initialized successfully
2025-01-23T19:26:00.056Z [info]: Processing video from folder: 1-video
2025-01-23T19:26:00.059Z [info]: Found thumbnail: thumbnail.jpg
2025-01-23T19:26:00.062Z [info]: Starting YouTube upload process: {"videoPath":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/1-video/1-riddle.mp4","attempt":1,"maxAttempts":3}
2025-01-23T19:26:00.064Z [info]: Video file stats: {"path":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/1-video/1-riddle.mp4","size":15463620}
2025-01-23T19:26:02.428Z [info]: Video uploaded successfully: {"videoId":"5TETwSpiqqw"}
2025-01-23T19:26:02.940Z [error]: Error uploading thumbnail: Media is too large. Limit: 2097152 {"config":{"url":"https://youtube.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=5TETwSpiqqw&uploadType=media","method":"POST","apiVersion":"","userAgentDirectives":[{"product":"google-api-nodejs-client","version":"7.2.0","comment":"gzip"}],"data":{"fd":null,"path":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/1-video/thumbnail.jpg","flags":"r","mode":438,"end":null,"bytesRead":2247911,"_events":{},"_readableState":{"highWaterMark":65536,"buffer":[],"bufferIndex":0,"length":0,"pipes":[],"awaitDrainWriters":null},"_eventsCount":1},"headers":{"x-goog-api-client":"gdcl/7.2.0 gl-node/20.18.0","content-type":"application/octet-stream","Accept-Encoding":"gzip","User-Agent":"google-api-nodejs-client/7.2.0 (gzip)","Authorization":"<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>."},"params":{"videoId":"5TETwSpiqqw","uploadType":"media"},"retry":true,"body":{"fd":null,"path":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/1-video/thumbnail.jpg","flags":"r","mode":438,"end":null,"bytesRead":2247911,"_events":{},"_readableState":{"highWaterMark":65536,"buffer":[],"bufferIndex":0,"length":0,"pipes":[],"awaitDrainWriters":null},"_eventsCount":1},"responseType":"unknown","retryConfig":{"currentRetryAttempt":0,"retry":3,"httpMethodsToRetry":["GET","HEAD","PUT","OPTIONS","DELETE"],"noResponseRetries":2,"retryDelayMultiplier":2,"timeOfFirstRequest":1737660362939,"totalTimeout":9007199254740991,"maxRetryDelay":9007199254740991,"statusCodesToRetry":[[100,199],[408,408],[429,429],[500,599]]}},"response":{"config":{"url":"https://youtube.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=5TETwSpiqqw&uploadType=media","method":"POST","apiVersion":"","userAgentDirectives":[{"product":"google-api-nodejs-client","version":"7.2.0","comment":"gzip"}],"data":{"fd":null,"path":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/1-video/thumbnail.jpg","flags":"r","mode":438,"end":null,"bytesRead":2247911,"_events":{},"_readableState":{"highWaterMark":65536,"buffer":[],"bufferIndex":0,"length":0,"pipes":[],"awaitDrainWriters":null},"_eventsCount":1},"headers":{"x-goog-api-client":"gdcl/7.2.0 gl-node/20.18.0","content-type":"application/octet-stream","Accept-Encoding":"gzip","User-Agent":"google-api-nodejs-client/7.2.0 (gzip)","Authorization":"<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>."},"params":{"videoId":"5TETwSpiqqw","uploadType":"media"},"retry":true,"body":{"fd":null,"path":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/1-video/thumbnail.jpg","flags":"r","mode":438,"end":null,"bytesRead":2247911,"_events":{},"_readableState":{"highWaterMark":65536,"buffer":[],"bufferIndex":0,"length":0,"pipes":[],"awaitDrainWriters":null},"_eventsCount":1},"responseType":"unknown"},"data":{"error":{"code":413,"message":"Media is too large. Limit: 2097152","errors":[{"message":"Media is too large. Limit: 2097152","domain":"global","reason":"failedPrecondition"}],"status":"FAILED_PRECONDITION"}},"headers":{"alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","content-encoding":"gzip","content-type":"application/json; charset=UTF-8","date":"Thu, 23 Jan 2025 19:26:03 GMT","server":"UploadServer","transfer-encoding":"chunked","vary":"Origin, X-Origin, Referer","warning":"214 UploadServer gzipped","x-guploader-response-body-transformations":"gzipped","x-guploader-uploadid":"AFIdbgTZ0UgyN3kTj8RJV7WMupcD4s7SPU3gaf88OzSB-k6aZV270cw020dt33ALaBqHv6Q"},"status":413,"statusText":"Request Entity Too Large","request":{"responseURL":"https://youtube.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=5TETwSpiqqw&uploadType=media"}},"status":413,"code":413,"errors":[{"message":"Media is too large. Limit: 2097152","domain":"global","reason":"failedPrecondition"}],"stack":"Error: Media is too large. Limit: 2097152\n    at Gaxios._request (/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async YouTubeService.uploadVideo (/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/src/services/youtubeService.js:98:11)\n    at async VideoUploadService.processVideoUpload (/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/src/services/videoUploadService.js:43:28)\n    at async CronService.processFolder (/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/src/services/cronService.js:153:22)\n    at async Job.job (/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/src/services/cronService.js:78:13)"}
2025-01-23T19:26:02.940Z [info]: Upload completed: {"videoId":"5TETwSpiqqw"}
2025-01-23T19:26:02.947Z [info]: Moved file to archive: 1-riddle.mp4
2025-01-23T19:26:02.948Z [info]: Moved file to archive: metadata.json
2025-01-23T19:26:02.948Z [info]: Moved file to archive: thumbnail.jpg
2025-01-23T19:26:02.948Z [info]: Successfully moved files to archive: {"sourceDir":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/1-video","archiveDir":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/archive/1-video","fileCount":3}
2025-01-23T19:26:46.922Z [info]: Cron Status: {"activeJobs":1,"processingFolders":[],"quotaLimits":{},"lastRun":{"1":"2025-01-23T19:26:00.022Z"}}
2025-01-23T19:27:46.922Z [info]: Cron Status: {"activeJobs":1,"processingFolders":[],"quotaLimits":{},"lastRun":{"1":"2025-01-23T19:26:00.022Z"}}
2025-01-23T19:28:00.032Z [info]: Processing video from folder: 2-video
2025-01-23T19:28:00.033Z [info]: Found thumbnail: thumbnail.png
2025-01-23T19:28:00.033Z [info]: Starting YouTube upload process: {"videoPath":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/2-video/2-riddle.mp4","attempt":1,"maxAttempts":3}
2025-01-23T19:28:00.033Z [info]: Video file stats: {"path":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/2-video/2-riddle.mp4","size":15487878}
2025-01-23T19:28:01.525Z [info]: Video uploaded successfully: {"videoId":"b_iiV03n7zc"}
2025-01-23T19:28:01.936Z [error]: Error uploading thumbnail: The authenticated user doesn't have permissions to upload and set custom video thumbnails. {"config":{"url":"https://youtube.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=b_iiV03n7zc&uploadType=media","method":"POST","apiVersion":"","userAgentDirectives":[{"product":"google-api-nodejs-client","version":"7.2.0","comment":"gzip"}],"data":{"fd":null,"path":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/2-video/thumbnail.png","flags":"r","mode":438,"end":null,"bytesRead":2075067,"_events":{},"_readableState":{"highWaterMark":65536,"buffer":[],"bufferIndex":0,"length":0,"pipes":[],"awaitDrainWriters":null},"_eventsCount":1},"headers":{"x-goog-api-client":"gdcl/7.2.0 gl-node/20.18.0","content-type":"application/octet-stream","Accept-Encoding":"gzip","User-Agent":"google-api-nodejs-client/7.2.0 (gzip)","Authorization":"<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>."},"params":{"videoId":"b_iiV03n7zc","uploadType":"media"},"retry":true,"body":{"fd":null,"path":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/2-video/thumbnail.png","flags":"r","mode":438,"end":null,"bytesRead":2075067,"_events":{},"_readableState":{"highWaterMark":65536,"buffer":[],"bufferIndex":0,"length":0,"pipes":[],"awaitDrainWriters":null},"_eventsCount":1},"responseType":"unknown","retryConfig":{"currentRetryAttempt":0,"retry":3,"httpMethodsToRetry":["GET","HEAD","PUT","OPTIONS","DELETE"],"noResponseRetries":2,"retryDelayMultiplier":2,"timeOfFirstRequest":1737660481936,"totalTimeout":9007199254740991,"maxRetryDelay":9007199254740991,"statusCodesToRetry":[[100,199],[408,408],[429,429],[500,599]]}},"response":{"config":{"url":"https://youtube.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=b_iiV03n7zc&uploadType=media","method":"POST","apiVersion":"","userAgentDirectives":[{"product":"google-api-nodejs-client","version":"7.2.0","comment":"gzip"}],"data":{"fd":null,"path":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/2-video/thumbnail.png","flags":"r","mode":438,"end":null,"bytesRead":2075067,"_events":{},"_readableState":{"highWaterMark":65536,"buffer":[],"bufferIndex":0,"length":0,"pipes":[],"awaitDrainWriters":null},"_eventsCount":1},"headers":{"x-goog-api-client":"gdcl/7.2.0 gl-node/20.18.0","content-type":"application/octet-stream","Accept-Encoding":"gzip","User-Agent":"google-api-nodejs-client/7.2.0 (gzip)","Authorization":"<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>."},"params":{"videoId":"b_iiV03n7zc","uploadType":"media"},"retry":true,"body":{"fd":null,"path":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/2-video/thumbnail.png","flags":"r","mode":438,"end":null,"bytesRead":2075067,"_events":{},"_readableState":{"highWaterMark":65536,"buffer":[],"bufferIndex":0,"length":0,"pipes":[],"awaitDrainWriters":null},"_eventsCount":1},"responseType":"unknown"},"data":{"error":{"code":403,"message":"The authenticated user doesn't have permissions to upload and set custom video thumbnails.","errors":[{"message":"The authenticated user doesn't have permissions to upload and set custom video thumbnails.","domain":"youtube.thumbnail","reason":"forbidden","location":"Authorization","locationType":"header"}]}},"headers":{"alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","content-encoding":"gzip","content-type":"application/json; charset=UTF-8","date":"Thu, 23 Jan 2025 19:28:01 GMT","server":"UploadServer","transfer-encoding":"chunked","vary":"Origin, X-Origin, Referer","warning":"214 UploadServer gzipped","x-guploader-response-body-transformations":"gzipped","x-guploader-uploadid":"AFIdbgSp3--ZNdiH5zpcKtV7sKuRk05uoLC2KKXMZB3ukaYb8V8MeOxe66JlIt6vXH3ptkCFr7MmJRQ"},"status":403,"statusText":"Forbidden","request":{"responseURL":"https://youtube.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=b_iiV03n7zc&uploadType=media"}},"status":403,"code":403,"errors":[{"message":"The authenticated user doesn't have permissions to upload and set custom video thumbnails.","domain":"youtube.thumbnail","reason":"forbidden","location":"Authorization","locationType":"header"}],"stack":"Error: The authenticated user doesn't have permissions to upload and set custom video thumbnails.\n    at Gaxios._request (/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async YouTubeService.uploadVideo (/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/src/services/youtubeService.js:98:11)\n    at async VideoUploadService.processVideoUpload (/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/src/services/videoUploadService.js:43:28)\n    at async CronService.processFolder (/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/src/services/cronService.js:153:22)\n    at async Job.job (/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/src/services/cronService.js:78:13)"}
2025-01-23T19:28:01.937Z [info]: Upload completed: {"videoId":"b_iiV03n7zc"}
2025-01-23T19:28:01.952Z [info]: Moved file to archive: 2-riddle.mp4
2025-01-23T19:28:01.953Z [info]: Moved file to archive: metadata.json
2025-01-23T19:28:01.954Z [info]: Moved file to archive: thumbnail.png
2025-01-23T19:28:01.954Z [info]: Successfully moved files to archive: {"sourceDir":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/2-video","archiveDir":"/Users/gauravsachdeva/Work/projects/gsachdeva0422/Projects/youtube-uploader/videos/riddles-videos/archive/2-video","fileCount":3}
2025-01-23T19:28:46.926Z [info]: Cron Status: {"activeJobs":1,"processingFolders":[],"quotaLimits":{},"lastRun":{"1":"2025-01-23T19:28:00.016Z"}}
